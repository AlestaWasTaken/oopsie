window.Modal=(()=>{const t={};let e;class s{#element;#events;#options;#listeners;constructor(e){this.#element=e,this.#events={},this.#options={activeClass:"active",disableScroll:!0},this.#listeners=[],this.on("open",()=>this.#toggleScroll()),this.on("close",()=>this.#toggleScroll()),t[this.#element.dataset.modalId]=this}getId(){return this.#element.dataset.modalId}getElement(){return this.#element}destroy(){this.#removeEventListeners(),delete t[this.#element.dataset.modalId],this.#element.remove()}on(e,t){return null==this.#events[e]&&(this.#events[e]=[]),this.#events[e]=[...this.#events[e],t],this}open(){return null!=e||this.#element.classList.contains(this.#options.activeClass)||(this.#element.classList.add(this.#options.activeClass),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this.#addEventListeners(),(e=this).#callEvent("open")),this}close(){return null!=e&&this.#element.classList.contains(this.#options.activeClass)&&(this.#element.classList.remove(this.#options.activeClass),this.#removeEventListeners(),this.#callEvent("close"),e=null),this}#callEvent(e,...t){null!=this.#events[e]&&this.#events[e].forEach(e=>{try{if("function"==typeof e)return 0===t.length?e():void e(...t)}catch(e){console.error(e)}})}#addEventListeners(){this.#listeners.push({type:"click",cb:e=>this.#callEvent("click",e),element:this.#element}),this.#listeners.push({type:"touchstart",cb:e=>this.#callEvent("click",e),element:this.#element}),this.#listeners.push({type:"keydown",cb:e=>this.#callEvent("keydown",e),element:document}),this.#listeners.forEach(e=>e.element.addEventListener(e.type,e.cb))}#removeEventListeners(){this.#listeners.forEach(e=>this.#element.removeEventListener(e.type,e.cb))}#toggleScroll(){var e;this.#options.disableScroll&&(e=document.querySelector("body"),this.#element.classList.contains(this.#options.activeClass)?e.style.overflow="hidden":e.style.overflow="auto")}}const n=e=>{let t;try{if(null==(t=e instanceof HTMLElement?e:window.document.querySelector(e)))throw new Exception}catch(e){return console.warn("Modal: Specified element not found.")}return null==t.dataset.modalId?console.warn("Modal: Specified element does not have a data-modal-id attribute."):t};return{initialize:e=>{e=n(e);return null==e?null:null!=t[e.dataset.modalId]?t[e.dataset.modalId]:new s(e)},get:e=>{e=n(e);return null==e?null:t[e.dataset.modalId]},getActive:()=>e}})();